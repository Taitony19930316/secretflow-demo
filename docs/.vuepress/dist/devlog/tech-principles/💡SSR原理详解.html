<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.26" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>ğŸ’¡ ä¸ºä»€ä¹ˆç¯å¢ƒæ£€æŸ¥èƒ½è§£å†³ SSR æŠ¥é”™ï¼Ÿ | SecretFlow</title><meta name="description" content="éšç§è®¡ç®—æŠ€æœ¯æ¼”ç¤ºä¸åœºæ™¯äº¤äº’">
    <link rel="preload" href="/secretflow-demo/assets/style-BAFN6eoG.css" as="style"><link rel="stylesheet" href="/secretflow-demo/assets/style-BAFN6eoG.css">
    <link rel="modulepreload" href="/secretflow-demo/assets/app-Dh3E1Skb.js"><link rel="modulepreload" href="/secretflow-demo/assets/ğŸ’¡SSRåŸç†è¯¦è§£.html-BUh_0Sk9.js">
    <link rel="prefetch" href="/secretflow-demo/assets/index.html-DFPDPvgZ.js" as="script"><link rel="prefetch" href="/secretflow-demo/assets/index.html-DhIw9vcE.js" as="script"><link rel="prefetch" href="/secretflow-demo/assets/index.html-kbSG2e-8.js" as="script"><link rel="prefetch" href="/secretflow-demo/assets/index.html-zlVn0FTf.js" as="script"><link rel="prefetch" href="/secretflow-demo/assets/Colabéƒ¨ç½²æŒ‡å—.html-CGVbB5bo.js" as="script"><link rel="prefetch" href="/secretflow-demo/assets/GitHub-PagesåŸŸåè§„åˆ™å’Œè‡ªå®šä¹‰åŸŸå.html-_DZTLzD7.js" as="script"><link rel="prefetch" href="/secretflow-demo/assets/ğŸŒCloudflare-Pageséƒ¨ç½²-æ›¿ä»£æ–¹æ¡ˆ.html-2ToBkGS-.js" as="script"><link rel="prefetch" href="/secretflow-demo/assets/ğŸš€Giteeéƒ¨ç½²æŒ‡å—-å›½å†…è®¿é—®.html-D2LWpD7k.js" as="script"><link rel="prefetch" href="/secretflow-demo/assets/Colabæ­£ç¡®æ“ä½œæŒ‡å—.html-B_oW3RIa.js" as="script"><link rel="prefetch" href="/secretflow-demo/assets/Colabè¿è¡Œæ•…éšœæ’æŸ¥.html-BDcSgzdu.js" as="script"><link rel="prefetch" href="/secretflow-demo/assets/MPCæ ¸å¿ƒåŸç†è¯¦è§£.html-Cb7X3oP0.js" as="script"><link rel="prefetch" href="/secretflow-demo/assets/PSIå¯†ç å­¦æŠ€æœ¯è¯¦è§£.html-BnzylGcL.js" as="script"><link rel="prefetch" href="/secretflow-demo/assets/ä¸ºä»€ä¹ˆä¸ç”¨SecretFlowä¹Ÿèƒ½è¿è¡ŒPSI.html-jL_p9riS.js" as="script"><link rel="prefetch" href="/secretflow-demo/assets/ä»€ä¹ˆæ˜¯éƒ¨ç½²-å®Œæ•´è§£é‡Š.html-C6ZVFsU1.js" as="script"><link rel="prefetch" href="/secretflow-demo/assets/ä»åŸŸååˆ°æ–‡ä»¶çš„å®Œæ•´é“¾è·¯.html-C9SAxn-d.js" as="script"><link rel="prefetch" href="/secretflow-demo/assets/åœ¨ç½‘é¡µç«¯æ¼”ç¤ºPSIçš„æ–¹æ¡ˆ.html-3NwaRn69.js" as="script"><link rel="prefetch" href="/secretflow-demo/assets/404.html-BO9qNaVR.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/secretflow-demo/"><!----><span class="vp-site-name" aria-hidden="true">SecretFlow</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/secretflow-demo/tech/" aria-label="PSI"><!--[--><!--[--><!--]--><!--]-->PSI<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/secretflow-demo/mpc/" aria-label="MPC"><!--[--><!--[--><!--]--><!--]-->MPC<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/secretflow-demo/devlog/" aria-label="å¼€å‘æ‰‹è®°"><!--[--><!--[--><!--]--><!--]-->å¼€å‘æ‰‹è®°<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/secretflow-demo/tech/" aria-label="PSI"><!--[--><!--[--><!--]--><!--]-->PSI<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/secretflow-demo/mpc/" aria-label="MPC"><!--[--><!--[--><!--]--><!--]-->MPC<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/secretflow-demo/devlog/" aria-label="å¼€å‘æ‰‹è®°"><!--[--><!--[--><!--]--><!--]-->å¼€å‘æ‰‹è®°<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading" href="/secretflow-demo/devlog/" aria-label="å¼€å‘æ‰‹è®°"><!--[--><!--[--><!--]--><!--]-->å¼€å‘æ‰‹è®°<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">å¯†ç å­¦åŸç† <span class="right arrow"></span></p><ul class="vp-sidebar-children" style="display:none;"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/secretflow-demo/devlog/tech-principles/PSI%E5%AF%86%E7%A0%81%E5%AD%A6%E6%8A%80%E6%9C%AF%E8%AF%A6%E8%A7%A3.html" aria-label="PSI å¯†ç å­¦æŠ€æœ¯è¯¦è§£"><!--[--><!--[--><!--]--><!--]-->PSI å¯†ç å­¦æŠ€æœ¯è¯¦è§£<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/secretflow-demo/devlog/tech-principles/MPC%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3.html" aria-label="MPC æ ¸å¿ƒåŸç†è¯¦è§£"><!--[--><!--[--><!--]--><!--]-->MPC æ ¸å¿ƒåŸç†è¯¦è§£<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active collapsible">å‰ç«¯å¼€å‘ <span class="down arrow"></span></p><ul class="vp-sidebar-children" style=""><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/secretflow-demo/devlog/tech-principles/%F0%9F%92%A1SSR%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3.html" aria-label="ğŸ’¡ ä¸ºä»€ä¹ˆç¯å¢ƒæ£€æŸ¥èƒ½è§£å†³ SSR æŠ¥é”™ï¼Ÿ"><!--[--><!--[--><!--]--><!--]-->ğŸ’¡ ä¸ºä»€ä¹ˆç¯å¢ƒæ£€æŸ¥èƒ½è§£å†³ SSR æŠ¥é”™ï¼Ÿ<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/secretflow-demo/devlog/tech-principles/%E5%9C%A8%E7%BD%91%E9%A1%B5%E7%AB%AF%E6%BC%94%E7%A4%BAPSI%E7%9A%84%E6%96%B9%E6%A1%88.html" aria-label="åœ¨ç½‘é¡µç«¯æ¼”ç¤º PSI çš„å¯è¡Œæ–¹æ¡ˆ"><!--[--><!--[--><!--]--><!--]-->åœ¨ç½‘é¡µç«¯æ¼”ç¤º PSI çš„å¯è¡Œæ–¹æ¡ˆ<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">éƒ¨ç½²è¿ç»´ <span class="right arrow"></span></p><ul class="vp-sidebar-children" style="display:none;"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/secretflow-demo/devlog/tech-principles/%E4%BB%80%E4%B9%88%E6%98%AF%E9%83%A8%E7%BD%B2-%E5%AE%8C%E6%95%B4%E8%A7%A3%E9%87%8A.html" aria-label="ä»€ä¹ˆæ˜¯éƒ¨ç½²ï¼Ÿä¸ºä»€ä¹ˆéœ€è¦éƒ¨ç½²ï¼Ÿ"><!--[--><!--[--><!--]--><!--]-->ä»€ä¹ˆæ˜¯éƒ¨ç½²ï¼Ÿä¸ºä»€ä¹ˆéœ€è¦éƒ¨ç½²ï¼Ÿ<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/secretflow-demo/devlog/tech-principles/%E4%BB%8E%E5%9F%9F%E5%90%8D%E5%88%B0%E6%96%87%E4%BB%B6%E7%9A%84%E5%AE%8C%E6%95%B4%E9%93%BE%E8%B7%AF.html" aria-label="ä»åŸŸååˆ°æ–‡ä»¶çš„å®Œæ•´é“¾è·¯"><!--[--><!--[--><!--]--><!--]-->ä»åŸŸååˆ°æ–‡ä»¶çš„å®Œæ•´é“¾è·¯<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/secretflow-demo/devlog/deployment/GitHub-Pages%E5%9F%9F%E5%90%8D%E8%A7%84%E5%88%99%E5%92%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D.html" aria-label="GitHub Pages åŸŸåè§„åˆ™å’Œè‡ªå®šä¹‰åŸŸå"><!--[--><!--[--><!--]--><!--]-->GitHub Pages åŸŸåè§„åˆ™å’Œè‡ªå®šä¹‰åŸŸå<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/secretflow-demo/devlog/deployment/%F0%9F%9A%80Gitee%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97-%E5%9B%BD%E5%86%85%E8%AE%BF%E9%97%AE.html" aria-label="ğŸš€ Gitee Pages éƒ¨ç½²æŒ‡å— - è§£å†³å›½å†…è®¿é—®é—®é¢˜"><!--[--><!--[--><!--]--><!--]-->ğŸš€ Gitee Pages éƒ¨ç½²æŒ‡å— - è§£å†³å›½å†…è®¿é—®é—®é¢˜<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/secretflow-demo/devlog/deployment/%F0%9F%8C%90Cloudflare-Pages%E9%83%A8%E7%BD%B2-%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88.html" aria-label="ğŸŒ Cloudflare Pages éƒ¨ç½²æŒ‡å— - Gitee çš„å®Œç¾æ›¿ä»£"><!--[--><!--[--><!--]--><!--]-->ğŸŒ Cloudflare Pages éƒ¨ç½²æŒ‡å— - Gitee çš„å®Œç¾æ›¿ä»£<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">å®è·µæŠ€å·§ <span class="right arrow"></span></p><ul class="vp-sidebar-children" style="display:none;"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/secretflow-demo/devlog/deployment/Colab%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97.html" aria-label="Google Colab éƒ¨ç½²æŒ‡å—"><!--[--><!--[--><!--]--><!--]-->Google Colab éƒ¨ç½²æŒ‡å—<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/secretflow-demo/devlog/practice/Colab%E6%AD%A3%E7%A1%AE%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97.html" aria-label="ğŸ“š Google Colab æ­£ç¡®æ“ä½œæŒ‡å—"><!--[--><!--[--><!--]--><!--]-->ğŸ“š Google Colab æ­£ç¡®æ“ä½œæŒ‡å—<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/secretflow-demo/devlog/practice/Colab%E8%BF%90%E8%A1%8C%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5.html" aria-label="ğŸ”§ Colab è¿è¡Œæ•…éšœæ’æŸ¥"><!--[--><!--[--><!--]--><!--]-->ğŸ”§ Colab è¿è¡Œæ•…éšœæ’æŸ¥<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">æŠ€æœ¯åŸç†æ·±å…¥ <span class="right arrow"></span></p><ul class="vp-sidebar-children" style="display:none;"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/secretflow-demo/devlog/tech-principles/%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E7%94%A8SecretFlow%E4%B9%9F%E8%83%BD%E8%BF%90%E8%A1%8CPSI.html" aria-label="ä¸ºä»€ä¹ˆä¸ç”¨ SecretFlow SDK ä¹Ÿèƒ½è¿è¡Œ PSIï¼Ÿ"><!--[--><!--[--><!--]--><!--]-->ä¸ºä»€ä¹ˆä¸ç”¨ SecretFlow SDK ä¹Ÿèƒ½è¿è¡Œ PSIï¼Ÿ<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h1 id="ğŸ’¡-ä¸ºä»€ä¹ˆç¯å¢ƒæ£€æŸ¥èƒ½è§£å†³-ssr-æŠ¥é”™" tabindex="-1"><a class="header-anchor" href="#ğŸ’¡-ä¸ºä»€ä¹ˆç¯å¢ƒæ£€æŸ¥èƒ½è§£å†³-ssr-æŠ¥é”™"><span>ğŸ’¡ ä¸ºä»€ä¹ˆç¯å¢ƒæ£€æŸ¥èƒ½è§£å†³ SSR æŠ¥é”™ï¼Ÿ</span></a></h1><hr><h2 id="ğŸ¤”-é—®é¢˜å›é¡¾" tabindex="-1"><a class="header-anchor" href="#ğŸ¤”-é—®é¢˜å›é¡¾"><span>ğŸ¤” é—®é¢˜å›é¡¾</span></a></h2><h3 id="æŠ¥é”™ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#æŠ¥é”™ä¿¡æ¯"><span>æŠ¥é”™ä¿¡æ¯</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">ReferenceError: window is not defined</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="è§£å†³æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ"><span>è§£å†³æ–¹æ¡ˆ</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// ä»£ç </span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¸ºä»€ä¹ˆåŠ ä¸€ä¸ªåˆ¤æ–­å°±è¡Œäº†ï¼Ÿ</strong></p><hr><h2 id="ğŸ“š-æ ¸å¿ƒæ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#ğŸ“š-æ ¸å¿ƒæ¦‚å¿µ"><span>ğŸ“š æ ¸å¿ƒæ¦‚å¿µ</span></a></h2><h3 id="_1-ä»€ä¹ˆæ˜¯-ssr-æœåŠ¡ç«¯æ¸²æŸ“" tabindex="-1"><a class="header-anchor" href="#_1-ä»€ä¹ˆæ˜¯-ssr-æœåŠ¡ç«¯æ¸²æŸ“"><span>1. ä»€ä¹ˆæ˜¯ SSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ï¼‰ï¼Ÿ</span></a></h3><p>SSR = Server-Side Renderingï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ï¼‰</p><h4 id="ä¼ ç»Ÿçš„å®¢æˆ·ç«¯æ¸²æŸ“-csr" tabindex="-1"><a class="header-anchor" href="#ä¼ ç»Ÿçš„å®¢æˆ·ç«¯æ¸²æŸ“-csr"><span>ä¼ ç»Ÿçš„å®¢æˆ·ç«¯æ¸²æŸ“ï¼ˆCSRï¼‰</span></a></h4><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">æµè§ˆå™¨è¯·æ±‚</span>
<span class="line">    â†“</span>
<span class="line">æœåŠ¡å™¨è¿”å›ç©ºç™½ HTML + JavaScript</span>
<span class="line">    â†“</span>
<span class="line">æµè§ˆå™¨ä¸‹è½½ JavaScript</span>
<span class="line">    â†“</span>
<span class="line">JavaScript æ‰§è¡Œï¼ŒåŠ¨æ€ç”Ÿæˆå†…å®¹</span>
<span class="line">    â†“</span>
<span class="line">ç”¨æˆ·çœ‹åˆ°é¡µé¢ï¼ˆæ…¢ï¼‰</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¼ºç‚¹</strong>ï¼š</p><ul><li>é¦–å±åŠ è½½æ…¢</li><li>SEO ä¸å‹å¥½ï¼ˆæœç´¢å¼•æ“çœ‹ä¸åˆ°å†…å®¹ï¼‰</li><li>ç™½å±æ—¶é—´é•¿</li></ul><h4 id="æœåŠ¡ç«¯æ¸²æŸ“-ssr" tabindex="-1"><a class="header-anchor" href="#æœåŠ¡ç«¯æ¸²æŸ“-ssr"><span>æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰</span></a></h4><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">æµè§ˆå™¨è¯·æ±‚</span>
<span class="line">    â†“</span>
<span class="line">æœåŠ¡å™¨ç”¨ Node.js æ‰§è¡Œä»£ç ï¼Œç”Ÿæˆå®Œæ•´ HTML</span>
<span class="line">    â†“</span>
<span class="line">æœåŠ¡å™¨è¿”å›å®Œæ•´ HTML</span>
<span class="line">    â†“</span>
<span class="line">ç”¨æˆ·ç«‹å³çœ‹åˆ°å†…å®¹ï¼ˆå¿«ï¼‰</span>
<span class="line">    â†“</span>
<span class="line">æµè§ˆå™¨ä¸‹è½½ JavaScriptï¼Œæ¿€æ´»äº¤äº’</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼˜ç‚¹</strong>ï¼š</p><ul><li>é¦–å±åŠ è½½å¿«</li><li>SEO å‹å¥½</li><li>æ— ç™½å±</li></ul><hr><h2 id="ğŸ—ï¸-vuepress-çš„æ„å»ºè¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#ğŸ—ï¸-vuepress-çš„æ„å»ºè¿‡ç¨‹"><span>ğŸ—ï¸ VuePress çš„æ„å»ºè¿‡ç¨‹</span></a></h2><h3 id="vuepress-2-x-æ„å»ºæµç¨‹" tabindex="-1"><a class="header-anchor" href="#vuepress-2-x-æ„å»ºæµç¨‹"><span>VuePress 2.x æ„å»ºæµç¨‹</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">1. è¯»å– Markdown æ–‡ä»¶</span>
<span class="line">   â†“</span>
<span class="line">2. è½¬æ¢ä¸º Vue ç»„ä»¶</span>
<span class="line">   â†“</span>
<span class="line">3. ã€SSR é˜¶æ®µã€‘åœ¨ Node.js ä¸­æ‰§è¡Œï¼Œç”Ÿæˆ HTML</span>
<span class="line">   â†“</span>
<span class="line">4. è¾“å‡ºé™æ€ HTML æ–‡ä»¶</span>
<span class="line">   â†“</span>
<span class="line">5. éƒ¨ç½²åˆ°æœåŠ¡å™¨</span>
<span class="line">   â†“</span>
<span class="line">6. ã€CSR é˜¶æ®µã€‘ç”¨æˆ·è®¿é—®æ—¶ï¼Œæµè§ˆå™¨æ¿€æ´»äº¤äº’</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å…³é”®ç‚¹-ä¸¤ä¸ªä¸åŒçš„ç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#å…³é”®ç‚¹-ä¸¤ä¸ªä¸åŒçš„ç¯å¢ƒ"><span>å…³é”®ç‚¹ï¼šä¸¤ä¸ªä¸åŒçš„ç¯å¢ƒ</span></a></h3><table><thead><tr><th>ç¯å¢ƒ</th><th>é˜¶æ®µ</th><th>è¿è¡Œåœ¨</th><th>æœ‰ window å—ï¼Ÿ</th><th>æœ‰ document å—ï¼Ÿ</th></tr></thead><tbody><tr><td><strong>Node.js</strong></td><td>æ„å»ºæ—¶ï¼ˆSSRï¼‰</td><td>æœåŠ¡å™¨</td><td>âŒ æ²¡æœ‰</td><td>âŒ æ²¡æœ‰</td></tr><tr><td><strong>æµè§ˆå™¨</strong></td><td>è¿è¡Œæ—¶ï¼ˆCSRï¼‰</td><td>å®¢æˆ·ç«¯</td><td>âœ… æœ‰</td><td>âœ… æœ‰</td></tr></tbody></table><hr><h2 id="âš ï¸-ä¸ºä»€ä¹ˆä¼šæŠ¥é”™" tabindex="-1"><a class="header-anchor" href="#âš ï¸-ä¸ºä»€ä¹ˆä¼šæŠ¥é”™"><span>âš ï¸ ä¸ºä»€ä¹ˆä¼šæŠ¥é”™ï¼Ÿ</span></a></h2><h3 id="é—®é¢˜ä»£ç " tabindex="-1"><a class="header-anchor" href="#é—®é¢˜ä»£ç "><span>é—®é¢˜ä»£ç </span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span></span>
<span class="line">window<span class="token punctuation">.</span><span class="token function-variable function">runPSI</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ‰§è¡Œè¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#æ‰§è¡Œè¿‡ç¨‹"><span>æ‰§è¡Œè¿‡ç¨‹</span></a></h3><h4 id="ç¬¬1æ­¥-æ„å»ºæ—¶-node-js-ç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#ç¬¬1æ­¥-æ„å»ºæ—¶-node-js-ç¯å¢ƒ"><span>ç¬¬1æ­¥ï¼šæ„å»ºæ—¶ï¼ˆNode.js ç¯å¢ƒï¼‰</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// VuePress åœ¨ Node.js ä¸­æ‰§è¡Œè¿™æ®µä»£ç </span></span>
<span class="line">window<span class="token punctuation">.</span><span class="token function-variable function">runPSI</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span></span>
<span class="line">        â†‘</span>
<span class="line">      è¿™é‡ŒæŠ¥é”™ï¼</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¸ºä»€ä¹ˆæŠ¥é”™</strong>ï¼š</p><ul><li>Node.js æ˜¯æœåŠ¡å™¨ç«¯ JavaScript è¿è¡Œç¯å¢ƒ</li><li>Node.js <strong>æ²¡æœ‰</strong> <code>window</code> å¯¹è±¡</li><li>Node.js åªæœ‰ <code>global</code> å¯¹è±¡</li></ul><p><strong>ç±»æ¯”</strong>ï¼š</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">å°±åƒåœ¨ Python ä¸­è°ƒç”¨ JavaScript çš„å‡½æ•°</span>
<span class="line">â†’ Python è¯´ï¼š&quot;æˆ‘ä¸è®¤è¯† window è¿™ä¸ªä¸œè¥¿ï¼&quot;</span>
<span class="line">â†’ ReferenceError: window is not defined</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ç¬¬2æ­¥-è¿è¡Œæ—¶-æµè§ˆå™¨ç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#ç¬¬2æ­¥-è¿è¡Œæ—¶-æµè§ˆå™¨ç¯å¢ƒ"><span>ç¬¬2æ­¥ï¼šè¿è¡Œæ—¶ï¼ˆæµè§ˆå™¨ç¯å¢ƒï¼‰</span></a></h4><p>å¦‚æœä»£ç èƒ½é€šè¿‡æ„å»ºï¼Œåˆ°æµè§ˆå™¨å°±æ­£å¸¸äº†ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// æµè§ˆå™¨ä¸­æ‰§è¡Œ</span></span>
<span class="line">window<span class="token punctuation">.</span><span class="token function-variable function">runPSI</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span></span>
<span class="line">        â†‘</span>
<span class="line">      æµè§ˆå™¨æœ‰ windowï¼Œæ­£å¸¸</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="âœ…-ä¸ºä»€ä¹ˆæ£€æŸ¥èƒ½è§£å†³é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#âœ…-ä¸ºä»€ä¹ˆæ£€æŸ¥èƒ½è§£å†³é—®é¢˜"><span>âœ… ä¸ºä»€ä¹ˆæ£€æŸ¥èƒ½è§£å†³é—®é¢˜ï¼Ÿ</span></a></h2><h3 id="è§£å†³æ–¹æ¡ˆä»£ç " tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆä»£ç "><span>è§£å†³æ–¹æ¡ˆä»£ç </span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  window<span class="token punctuation">.</span><span class="token function-variable function">runPSI</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ‰§è¡Œè¿‡ç¨‹è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#æ‰§è¡Œè¿‡ç¨‹è¯¦è§£"><span>æ‰§è¡Œè¿‡ç¨‹è¯¦è§£</span></a></h3><h4 id="æ„å»ºæ—¶-node-js-ç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#æ„å»ºæ—¶-node-js-ç¯å¢ƒ"><span>æ„å»ºæ—¶ï¼ˆNode.js ç¯å¢ƒï¼‰</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// ç¬¬1æ­¥ï¼šæ£€æŸ¥ window æ˜¯å¦å­˜åœ¨</span></span>
<span class="line"><span class="token keyword">typeof</span> window</span>
<span class="line"><span class="token comment">// åœ¨ Node.js ä¸­ï¼Œwindow æœªå®šä¹‰</span></span>
<span class="line"><span class="token comment">// typeof å¯¹æœªå®šä¹‰çš„å˜é‡ä¸ä¼šæŠ¥é”™ï¼Œè¿”å› &#39;undefined&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ç¬¬2æ­¥ï¼šåˆ¤æ–­</span></span>
<span class="line"><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span>  <span class="token comment">// &#39;undefined&#39; !== &#39;undefined&#39;</span></span>
<span class="line">                                <span class="token comment">// false</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ç¬¬3æ­¥ï¼šä¸æ‰§è¡Œ if å—å†…çš„ä»£ç </span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// è¿™é‡Œçš„ä»£ç ä¸ä¼šæ‰§è¡Œï¼Œè·³è¿‡ï¼</span></span>
<span class="line">  window<span class="token punctuation">.</span><span class="token function-variable function">runPSI</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>  <span class="token comment">// ä¸æ‰§è¡Œï¼Œä¸æŠ¥é”™</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å…³é”®</strong>ï¼š<code>typeof</code> æ˜¯å®‰å…¨çš„è¿ç®—ç¬¦ï¼Œå¯¹æœªå®šä¹‰çš„å˜é‡ä¹Ÿä¸ä¼šæŠ¥é”™ã€‚</p><h4 id="è¿è¡Œæ—¶-æµè§ˆå™¨ç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#è¿è¡Œæ—¶-æµè§ˆå™¨ç¯å¢ƒ"><span>è¿è¡Œæ—¶ï¼ˆæµè§ˆå™¨ç¯å¢ƒï¼‰</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// ç¬¬1æ­¥ï¼šæ£€æŸ¥ window æ˜¯å¦å­˜åœ¨</span></span>
<span class="line"><span class="token keyword">typeof</span> window</span>
<span class="line"><span class="token comment">// åœ¨æµè§ˆå™¨ä¸­ï¼Œwindow å­˜åœ¨</span></span>
<span class="line"><span class="token comment">// è¿”å› &#39;object&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ç¬¬2æ­¥ï¼šåˆ¤æ–­</span></span>
<span class="line"><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span>  <span class="token comment">// &#39;object&#39; !== &#39;undefined&#39;</span></span>
<span class="line">                                <span class="token comment">// true</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ç¬¬3æ­¥ï¼šæ‰§è¡Œ if å—å†…çš„ä»£ç </span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// æµè§ˆå™¨ä¸­æ‰§è¡Œè¿™é‡Œçš„ä»£ç </span></span>
<span class="line">  window<span class="token punctuation">.</span><span class="token function-variable function">runPSI</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>  <span class="token comment">// æ­£å¸¸æŒ‚è½½</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ğŸ”¬-æ·±å…¥ç†è§£-typeof-çš„ç‰¹æ®Šæ€§" tabindex="-1"><a class="header-anchor" href="#ğŸ”¬-æ·±å…¥ç†è§£-typeof-çš„ç‰¹æ®Šæ€§"><span>ğŸ”¬ æ·±å…¥ç†è§£ï¼štypeof çš„ç‰¹æ®Šæ€§</span></a></h2><h3 id="ä¸ºä»€ä¹ˆç”¨-typeof" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆç”¨-typeof"><span>ä¸ºä»€ä¹ˆç”¨ typeofï¼Ÿ</span></a></h3><h4 id="âŒ-é”™è¯¯çš„æ£€æŸ¥æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#âŒ-é”™è¯¯çš„æ£€æŸ¥æ–¹å¼"><span>âŒ é”™è¯¯çš„æ£€æŸ¥æ–¹å¼</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// é”™è¯¯ 1ï¼šç›´æ¥æ£€æŸ¥</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>window <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// æ„å»ºæ—¶è¿™é‡Œå°±ä¼šæŠ¥é”™ï¼</span></span>
<span class="line">  <span class="token comment">// ReferenceError: window is not defined</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// é”™è¯¯ 2ï¼šæ£€æŸ¥æ˜¯å¦å­˜åœ¨</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// åŒæ ·æŠ¥é”™</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¸ºä»€ä¹ˆé”™è¯¯</strong>ï¼š</p><ul><li>åœ¨åˆ¤æ–­ <code>window !== undefined</code> ä¹‹å‰</li><li>JavaScript éœ€è¦å…ˆ<strong>è®¿é—®</strong> <code>window</code> å˜é‡</li><li>ä½† Node.js ä¸­ <code>window</code> æ ¹æœ¬ä¸å­˜åœ¨</li><li>è®¿é—®æ—¶å°±æŠ¥é”™äº†</li></ul><h4 id="âœ…-æ­£ç¡®çš„æ£€æŸ¥æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#âœ…-æ­£ç¡®çš„æ£€æŸ¥æ–¹å¼"><span>âœ… æ­£ç¡®çš„æ£€æŸ¥æ–¹å¼</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// æ­£ç¡®</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¸ºä»€ä¹ˆæ­£ç¡®</strong>ï¼š</p><ul><li><code>typeof</code> æ˜¯ JavaScript çš„<strong>è¿ç®—ç¬¦</strong>ï¼Œä¸æ˜¯å‡½æ•°</li><li><code>typeof</code> å¯¹<strong>æœªå®šä¹‰çš„å˜é‡</strong>ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œ</li><li>ä¸ä¼šæŠ›å‡º ReferenceError</li></ul><h3 id="typeof-çš„ç‰¹æ®Šè¡Œä¸º" tabindex="-1"><a class="header-anchor" href="#typeof-çš„ç‰¹æ®Šè¡Œä¸º"><span>typeof çš„ç‰¹æ®Šè¡Œä¸º</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// æœªå®šä¹‰çš„å˜é‡</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>notExist<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// âŒ ReferenceError</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> notExist<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// âœ… &#39;undefined&#39;ï¼ˆä¸æŠ¥é”™ï¼‰</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// è¿™æ˜¯ typeof çš„ç‰¹æ®Šè®¾è®¡</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ğŸŒ-ä¸¤ä¸ªä¸–ç•Œçš„éš”ç¦»" tabindex="-1"><a class="header-anchor" href="#ğŸŒ-ä¸¤ä¸ªä¸–ç•Œçš„éš”ç¦»"><span>ğŸŒ ä¸¤ä¸ªä¸–ç•Œçš„éš”ç¦»</span></a></h2><h3 id="node-js-ä¸–ç•Œ-æœåŠ¡å™¨ç«¯" tabindex="-1"><a class="header-anchor" href="#node-js-ä¸–ç•Œ-æœåŠ¡å™¨ç«¯"><span>Node.js ä¸–ç•Œï¼ˆæœåŠ¡å™¨ç«¯ï¼‰</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// Node.js çš„å…¨å±€å¯¹è±¡</span></span>
<span class="line">global<span class="token punctuation">.</span>myVar <span class="token operator">=</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ²¡æœ‰æµè§ˆå™¨ API</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> window<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// &#39;undefined&#39;</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> document<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// &#39;undefined&#39;</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> localStorage<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;undefined&#39;</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> crypto<span class="token punctuation">.</span>subtle<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¯èƒ½æŠ¥é”™</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ä½†æœ‰ Node.js API</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> require<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// &#39;function&#39;</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> process<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// &#39;object&#39;</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> __dirname<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// &#39;string&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æµè§ˆå™¨ä¸–ç•Œ-å®¢æˆ·ç«¯" tabindex="-1"><a class="header-anchor" href="#æµè§ˆå™¨ä¸–ç•Œ-å®¢æˆ·ç«¯"><span>æµè§ˆå™¨ä¸–ç•Œï¼ˆå®¢æˆ·ç«¯ï¼‰</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// æµè§ˆå™¨çš„å…¨å±€å¯¹è±¡</span></span>
<span class="line">window<span class="token punctuation">.</span>myVar <span class="token operator">=</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æœ‰æµè§ˆå™¨ API</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> window<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// &#39;object&#39;</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> document<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// &#39;object&#39;</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> localStorage<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;object&#39;</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> crypto<span class="token punctuation">.</span>subtle<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;object&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ä½†æ²¡æœ‰ Node.js API</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> require<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// &#39;undefined&#39;ï¼ˆæµè§ˆå™¨ä¸­ï¼‰</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> process<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// &#39;undefined&#39;</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> __dirname<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// &#39;undefined&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ğŸ¯-å®é™…åº”ç”¨-åŒæ„ä»£ç " tabindex="-1"><a class="header-anchor" href="#ğŸ¯-å®é™…åº”ç”¨-åŒæ„ä»£ç "><span>ğŸ¯ å®é™…åº”ç”¨ï¼šåŒæ„ä»£ç </span></a></h2><h3 id="ä»€ä¹ˆæ˜¯åŒæ„ä»£ç " tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯åŒæ„ä»£ç "><span>ä»€ä¹ˆæ˜¯åŒæ„ä»£ç ï¼Ÿ</span></a></h3><p><strong>åŒæ„ï¼ˆIsomorphicï¼‰ä»£ç </strong>ï¼šèƒ½åœ¨æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯éƒ½è¿è¡Œçš„ä»£ç ã€‚</p><h3 id="ç¼–å†™åŒæ„ä»£ç çš„åŸåˆ™" tabindex="-1"><a class="header-anchor" href="#ç¼–å†™åŒæ„ä»£ç çš„åŸåˆ™"><span>ç¼–å†™åŒæ„ä»£ç çš„åŸåˆ™</span></a></h3><h4 id="_1-ç¯å¢ƒæ£€æŸ¥" tabindex="-1"><a class="header-anchor" href="#_1-ç¯å¢ƒæ£€æŸ¥"><span>1. ç¯å¢ƒæ£€æŸ¥</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// æ£€æŸ¥æ˜¯å¦åœ¨æµè§ˆå™¨ç¯å¢ƒ</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// æµè§ˆå™¨ç«¯ä»£ç </span></span>
<span class="line">  window<span class="token punctuation">.</span><span class="token function-variable function">myFunction</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ£€æŸ¥æ˜¯å¦åœ¨ Node.js ç¯å¢ƒ</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> process <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// Node.js ç«¯ä»£ç </span></span>
<span class="line">  <span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-æ¡ä»¶å¯¼å…¥" tabindex="-1"><a class="header-anchor" href="#_2-æ¡ä»¶å¯¼å…¥"><span>2. æ¡ä»¶å¯¼å…¥</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">let</span> storage<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  storage <span class="token operator">=</span> window<span class="token punctuation">.</span>localStorage<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// æœåŠ¡å™¨ç«¯ä½¿ç”¨æ–‡ä»¶å­˜å‚¨</span></span>
<span class="line">  storage <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function-variable function">getItem</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* è¯»æ–‡ä»¶ */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token function-variable function">setItem</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* å†™æ–‡ä»¶ */</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-ç”Ÿå‘½å‘¨æœŸé’©å­" tabindex="-1"><a class="header-anchor" href="#_3-ç”Ÿå‘½å‘¨æœŸé’©å­"><span>3. ç”Ÿå‘½å‘¨æœŸé’©å­</span></a></h4><p>åœ¨ Vue/React ç­‰æ¡†æ¶ä¸­ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// Vue</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// è¿™ä¸ªé’©å­åªåœ¨æµè§ˆå™¨ç«¯æ‰§è¡Œ</span></span>
<span class="line">    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;scroll&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onScroll<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// React</span></span>
<span class="line"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// è¿™ä¸ª effect åªåœ¨æµè§ˆå™¨ç«¯æ‰§è¡Œ</span></span>
<span class="line">  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;scroll&#39;</span><span class="token punctuation">,</span> onScroll<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ğŸ“Š-å¯¹æ¯”æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ“Š-å¯¹æ¯”æ€»ç»“"><span>ğŸ“Š å¯¹æ¯”æ€»ç»“</span></a></h2><h3 id="é—®é¢˜-vs-è§£å†³" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜-vs-è§£å†³"><span>é—®é¢˜ vs è§£å†³</span></a></h3><table><thead><tr><th>æ–¹é¢</th><th>é—®é¢˜ä»£ç </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><strong>ä»£ç </strong></td><td><code>window.runPSI = ...</code></td><td><code>if (typeof window !== &#39;undefined&#39;) { window.runPSI = ... }</code></td></tr><tr><td><strong>æ„å»ºæ—¶</strong></td><td>âŒ æŠ¥é”™ï¼šwindow is not defined</td><td>âœ… è·³è¿‡ï¼Œä¸æ‰§è¡Œ</td></tr><tr><td><strong>è¿è¡Œæ—¶</strong></td><td>-</td><td>âœ… æ­£å¸¸æ‰§è¡Œ</td></tr><tr><td><strong>åŸç†</strong></td><td>ç›´æ¥è®¿é—® window</td><td>å…ˆæ£€æŸ¥ï¼Œå†è®¿é—®</td></tr></tbody></table><hr><h2 id="ğŸ”-ç±»æ¯”ç†è§£" tabindex="-1"><a class="header-anchor" href="#ğŸ”-ç±»æ¯”ç†è§£"><span>ğŸ” ç±»æ¯”ç†è§£</span></a></h2><h3 id="ç±»æ¯”1-æ£€æŸ¥é—¨æ˜¯å¦å­˜åœ¨" tabindex="-1"><a class="header-anchor" href="#ç±»æ¯”1-æ£€æŸ¥é—¨æ˜¯å¦å­˜åœ¨"><span>ç±»æ¯”1ï¼šæ£€æŸ¥é—¨æ˜¯å¦å­˜åœ¨</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// é”™è¯¯çš„æ–¹å¼</span></span>
<span class="line"><span class="token function">æ‰“å¼€é—¨</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å¦‚æœé—¨ä¸å­˜åœ¨ï¼Œç›´æ¥æ’å¢™æŠ¥é”™</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ­£ç¡®çš„æ–¹å¼</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>é—¨å­˜åœ¨<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">æ‰“å¼€é—¨</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// åªæœ‰é—¨å­˜åœ¨æ‰å°è¯•æ‰“å¼€</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç±»æ¯”2-æ£€æŸ¥å·¥å…·æ˜¯å¦å¯ç”¨" tabindex="-1"><a class="header-anchor" href="#ç±»æ¯”2-æ£€æŸ¥å·¥å…·æ˜¯å¦å¯ç”¨"><span>ç±»æ¯”2ï¼šæ£€æŸ¥å·¥å…·æ˜¯å¦å¯ç”¨</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// åœ¨å¨æˆ¿</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>æœ‰æ…æ‹Œæœº<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">ä½¿ç”¨æ…æ‹Œæœº</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// åœ¨æˆ·å¤–</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>æœ‰æ…æ‹Œæœº<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// æˆ·å¤–æ²¡æœ‰æ…æ‹Œæœºï¼Œè¿™æ®µä»£ç ä¸æ‰§è¡Œ</span></span>
<span class="line">  <span class="token function">ä½¿ç”¨æ…æ‹Œæœº</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ğŸ’¡-æ‰©å±•çŸ¥è¯†" tabindex="-1"><a class="header-anchor" href="#ğŸ’¡-æ‰©å±•çŸ¥è¯†"><span>ğŸ’¡ æ‰©å±•çŸ¥è¯†</span></a></h2><h3 id="_1-å…¶ä»–éœ€è¦æ£€æŸ¥çš„å…¨å±€å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_1-å…¶ä»–éœ€è¦æ£€æŸ¥çš„å…¨å±€å¯¹è±¡"><span>1. å…¶ä»–éœ€è¦æ£€æŸ¥çš„å…¨å±€å¯¹è±¡</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// æ£€æŸ¥ document</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> document <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ£€æŸ¥ localStorage</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> localStorage <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&#39;key&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;value&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ£€æŸ¥ navigator</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> navigator <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-æ£€æŸ¥æ˜¯å¦åœ¨-node-js-ç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#_2-æ£€æŸ¥æ˜¯å¦åœ¨-node-js-ç¯å¢ƒ"><span>2. æ£€æŸ¥æ˜¯å¦åœ¨ Node.js ç¯å¢ƒ</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// æ–¹æ³•1ï¼šæ£€æŸ¥ process</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> process <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span> <span class="token operator">&amp;&amp;</span> process<span class="token punctuation">.</span>versions <span class="token operator">&amp;&amp;</span> process<span class="token punctuation">.</span>versions<span class="token punctuation">.</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;åœ¨ Node.js ç¯å¢ƒ&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ–¹æ³•2ï¼šæ£€æŸ¥ window</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">===</span> <span class="token string">&#39;undefined&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ä¸åœ¨æµè§ˆå™¨ç¯å¢ƒï¼Œå¯èƒ½åœ¨ Node.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-æ›´ç²¾ç¡®çš„ç¯å¢ƒæ£€æµ‹" tabindex="-1"><a class="header-anchor" href="#_3-æ›´ç²¾ç¡®çš„ç¯å¢ƒæ£€æµ‹"><span>3. æ›´ç²¾ç¡®çš„ç¯å¢ƒæ£€æµ‹</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">function</span> <span class="token function">isBrowser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> document <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">isNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token keyword">typeof</span> process <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span> <span class="token operator">&amp;&amp;</span> </span>
<span class="line">         process<span class="token punctuation">.</span>versions <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">&amp;&amp;</span> </span>
<span class="line">         process<span class="token punctuation">.</span>versions<span class="token punctuation">.</span>node <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isBrowser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;åœ¨æµè§ˆå™¨ä¸­&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;åœ¨ Node.js ä¸­&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ğŸ“-æŠ€æœ¯æœ¯è¯­" tabindex="-1"><a class="header-anchor" href="#ğŸ“-æŠ€æœ¯æœ¯è¯­"><span>ğŸ“ æŠ€æœ¯æœ¯è¯­</span></a></h2><h3 id="ssr-vs-csr-vs-ssg" tabindex="-1"><a class="header-anchor" href="#ssr-vs-csr-vs-ssg"><span>SSR vs CSR vs SSG</span></a></h3><table><thead><tr><th>ç±»å‹</th><th>å…¨ç§°</th><th>æ¸²æŸ“æ—¶æœº</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><strong>SSR</strong></td><td>Server-Side Rendering</td><td>æ¯æ¬¡è¯·æ±‚æ—¶</td><td>åŠ¨æ€ç”Ÿæˆï¼ŒSEO å¥½</td></tr><tr><td><strong>CSR</strong></td><td>Client-Side Rendering</td><td>æµè§ˆå™¨ç«¯</td><td>å•é¡µåº”ç”¨ï¼Œäº¤äº’å¥½</td></tr><tr><td><strong>SSG</strong></td><td>Static Site Generation</td><td>æ„å»ºæ—¶</td><td>é¢„æ¸²æŸ“ï¼Œé€Ÿåº¦å¿«</td></tr></tbody></table><p>VuePress ä½¿ç”¨çš„æ˜¯ <strong>SSG</strong>ï¼ˆé™æ€ç«™ç‚¹ç”Ÿæˆï¼‰ï¼š</p><ul><li>æ„å»ºæ—¶ç”¨ SSR ç”Ÿæˆ HTML</li><li>è¿è¡Œæ—¶ç”¨ CSR æ¿€æ´»äº¤äº’</li></ul><hr><h2 id="âœ…-æœ€ä½³å®è·µ" tabindex="-1"><a class="header-anchor" href="#âœ…-æœ€ä½³å®è·µ"><span>âœ… æœ€ä½³å®è·µ</span></a></h2><h3 id="åœ¨-vuepress-ä¸­ä½¿ç”¨-javascript-çš„æ¨¡æ¿" tabindex="-1"><a class="header-anchor" href="#åœ¨-vuepress-ä¸­ä½¿ç”¨-javascript-çš„æ¨¡æ¿"><span>åœ¨ VuePress ä¸­ä½¿ç”¨ JavaScript çš„æ¨¡æ¿</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// ====================================</span></span>
<span class="line">  <span class="token comment">// æ‰€æœ‰éœ€è¦æµè§ˆå™¨ API çš„ä»£ç éƒ½æ”¾è¿™é‡Œ</span></span>
<span class="line">  <span class="token comment">// ====================================</span></span>
<span class="line">  </span>
<span class="line">  <span class="token comment">// å…¨å±€å‡½æ•°</span></span>
<span class="line">  window<span class="token punctuation">.</span><span class="token function-variable function">myFunction</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// ä½¿ç”¨ DOM API</span></span>
<span class="line">    <span class="token keyword">const</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// ä½¿ç”¨ Web API</span></span>
<span class="line">    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&#39;key&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;value&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// ä½¿ç”¨æµè§ˆå™¨ crypto</span></span>
<span class="line">    crypto<span class="token punctuation">.</span>subtle<span class="token punctuation">.</span><span class="token function">digest</span><span class="token punctuation">(</span><span class="token string">&#39;SHA-256&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line">  <span class="token comment">// äº‹ä»¶ç›‘å¬</span></span>
<span class="line">  document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;DOMContentLoaded&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// åˆå§‹åŒ–ä»£ç </span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  </span>
<span class="line">  <span class="token comment">// å®šæ—¶å™¨</span></span>
<span class="line">  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// å»¶è¿Ÿæ‰§è¡Œçš„ä»£ç </span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ğŸ¯-æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ¯-æ€»ç»“"><span>ğŸ¯ æ€»ç»“</span></a></h2><h3 id="æ ¸å¿ƒåŸç†" tabindex="-1"><a class="header-anchor" href="#æ ¸å¿ƒåŸç†"><span>æ ¸å¿ƒåŸç†</span></a></h3><ol><li><strong>VuePress åœ¨æ„å»ºæ—¶ä½¿ç”¨ Node.js æ‰§è¡Œä»£ç </strong></li><li><strong>Node.js æ²¡æœ‰ <code>window</code>ã€<code>document</code> ç­‰æµè§ˆå™¨å¯¹è±¡</strong></li><li><strong><code>typeof</code> å¯ä»¥å®‰å…¨æ£€æŸ¥æœªå®šä¹‰çš„å˜é‡</strong></li><li><strong>ç¯å¢ƒæ£€æŸ¥è®©ä»£ç &quot;èªæ˜åœ°&quot;è·³è¿‡ä¸å…¼å®¹çš„éƒ¨åˆ†</strong></li></ol><h3 id="å·¥ä½œæµç¨‹" tabindex="-1"><a class="header-anchor" href="#å·¥ä½œæµç¨‹"><span>å·¥ä½œæµç¨‹</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">æ„å»ºæ—¶ï¼ˆNode.jsï¼‰</span>
<span class="line">  â†“</span>
<span class="line">æ£€æŸ¥ï¼štypeof window !== &#39;undefined&#39;</span>
<span class="line">  â†“</span>
<span class="line">ç»“æœï¼šfalseï¼ˆwindow ä¸å­˜åœ¨ï¼‰</span>
<span class="line">  â†“</span>
<span class="line">è·³è¿‡ if å—å†…çš„ä»£ç </span>
<span class="line">  â†“</span>
<span class="line">æ„å»ºæˆåŠŸï¼Œç”Ÿæˆ HTML</span>
<span class="line">  â†“</span>
<span class="line">éƒ¨ç½²åˆ°æœåŠ¡å™¨</span>
<span class="line">  â†“</span>
<span class="line">ç”¨æˆ·è®¿é—®ï¼ˆæµè§ˆå™¨ï¼‰</span>
<span class="line">  â†“</span>
<span class="line">æ£€æŸ¥ï¼štypeof window !== &#39;undefined&#39;</span>
<span class="line">  â†“</span>
<span class="line">ç»“æœï¼štrueï¼ˆwindow å­˜åœ¨ï¼‰</span>
<span class="line">  â†“</span>
<span class="line">æ‰§è¡Œ if å—å†…çš„ä»£ç </span>
<span class="line">  â†“</span>
<span class="line">åŠŸèƒ½æ­£å¸¸å·¥ä½œ</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¸€å¥è¯æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#ä¸€å¥è¯æ€»ç»“"><span>ä¸€å¥è¯æ€»ç»“</span></a></h3><p><strong>é€šè¿‡ <code>typeof window !== &#39;undefined&#39;</code> æ£€æŸ¥ï¼Œè®©ä»£ç åœ¨ Node.js ç¯å¢ƒï¼ˆæ„å»ºæ—¶ï¼‰è·³è¿‡æ‰§è¡Œï¼Œåœ¨æµè§ˆå™¨ç¯å¢ƒï¼ˆè¿è¡Œæ—¶ï¼‰æ­£å¸¸æ‰§è¡Œï¼Œä»è€Œé¿å… SSR æŠ¥é”™ã€‚</strong></p><hr><h2 id="ğŸ¤“-å½©è›‹-è¿™ä¸æ˜¯-ç¯å¢ƒå˜é‡" tabindex="-1"><a class="header-anchor" href="#ğŸ¤“-å½©è›‹-è¿™ä¸æ˜¯-ç¯å¢ƒå˜é‡"><span>ğŸ¤“ å½©è›‹ï¼šè¿™ä¸æ˜¯&quot;ç¯å¢ƒå˜é‡&quot;</span></a></h2><h3 id="ä¸¥æ ¼æ¥è¯´" tabindex="-1"><a class="header-anchor" href="#ä¸¥æ ¼æ¥è¯´"><span>ä¸¥æ ¼æ¥è¯´</span></a></h3><ul><li><strong>ç¯å¢ƒå˜é‡ï¼ˆEnvironment Variableï¼‰</strong>ï¼šç³»ç»Ÿçº§çš„é…ç½®å˜é‡ï¼Œå¦‚ <code>process.env.NODE_ENV</code></li><li><strong>ç¯å¢ƒæ£€æŸ¥ï¼ˆEnvironment Checkï¼‰</strong>ï¼šè¿è¡Œæ—¶åˆ¤æ–­å½“å‰åœ¨ä»€ä¹ˆç¯å¢ƒ</li></ul><p>æˆ‘ä»¬ç”¨çš„æ˜¯<strong>ç¯å¢ƒæ£€æŸ¥</strong>ï¼Œä¸æ˜¯è®¾ç½®ç¯å¢ƒå˜é‡ã€‚</p><h3 id="çœŸæ­£çš„ç¯å¢ƒå˜é‡" tabindex="-1"><a class="header-anchor" href="#çœŸæ­£çš„ç¯å¢ƒå˜é‡"><span>çœŸæ­£çš„ç¯å¢ƒå˜é‡</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// è¯»å–ç¯å¢ƒå˜é‡ï¼ˆNode.jsï¼‰</span></span>
<span class="line"><span class="token keyword">const</span> mode <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>mode <span class="token operator">===</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ç”Ÿäº§ç¯å¢ƒ&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;å¼€å‘ç¯å¢ƒ&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æˆ‘ä»¬ç”¨çš„ç¯å¢ƒæ£€æŸ¥" tabindex="-1"><a class="header-anchor" href="#æˆ‘ä»¬ç”¨çš„ç¯å¢ƒæ£€æŸ¥"><span>æˆ‘ä»¬ç”¨çš„ç¯å¢ƒæ£€æŸ¥</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// æ£€æŸ¥è¿è¡Œç¯å¢ƒ</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;æµè§ˆå™¨ç¯å¢ƒ&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Node.js ç¯å¢ƒ&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>å¸Œæœ›è¿™ä¸ªè¯¦ç»†çš„è§£é‡Šèƒ½å¸®ä½ ç†è§£ï¼ğŸ‰</p><p><strong>æ ¸å¿ƒè¦ç‚¹</strong>ï¼š</p><ul><li>VuePress æ„å»ºæ—¶åœ¨ Node.js ä¸­è¿è¡Œä»£ç </li><li>Node.js æ²¡æœ‰ <code>window</code> å¯¹è±¡</li><li><code>typeof</code> å¯ä»¥å®‰å…¨æ£€æŸ¥æœªå®šä¹‰çš„å˜é‡</li><li>ç¯å¢ƒæ£€æŸ¥è®©ä»£ç è·³è¿‡ä¸å…¼å®¹çš„ç¯å¢ƒ</li></ul><p><strong>ç®€å•è®°å¿†</strong>ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// åªåœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„ä»£ç </span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸€è¡Œä»£ç  = &quot;å¦‚æœåœ¨æµè§ˆå™¨é‡Œï¼Œæ‰æ‰§è¡Œä¸‹é¢çš„ä»£ç &quot;</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">æœ€è¿‘æ›´æ–°: </span><time class="meta-item-info" datetime="2025-10-30T05:46:01.000Z" data-allow-mismatch>2025/10/30 13:46</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: tailunyu@example.com">tailunyu</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><!----><a class="route-link auto-link next" href="/secretflow-demo/devlog/tech-principles/%E5%9C%A8%E7%BD%91%E9%A1%B5%E7%AB%AF%E6%BC%94%E7%A4%BAPSI%E7%9A%84%E6%96%B9%E6%A1%88.html" aria-label="åœ¨ç½‘é¡µç«¯æ¼”ç¤º PSI çš„å¯è¡Œæ–¹æ¡ˆ"><!--[--><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span class="external-link">åœ¨ç½‘é¡µç«¯æ¼”ç¤º PSI çš„å¯è¡Œæ–¹æ¡ˆ</span></div><!--]--></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/secretflow-demo/assets/app-Dh3E1Skb.js" defer></script>
  </body>
</html>
