import{_ as s,c as a,a as t,o as p}from"./app-rbwDE6nc.js";const e={};function l(c,n){return p(),a("div",null,[...n[0]||(n[0]=[t(`<h1 id="åœ¨ç½‘é¡µç«¯æ¼”ç¤º-psi-çš„å¯è¡Œæ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#åœ¨ç½‘é¡µç«¯æ¼”ç¤º-psi-çš„å¯è¡Œæ–¹æ¡ˆ"><span>åœ¨ç½‘é¡µç«¯æ¼”ç¤º PSI çš„å¯è¡Œæ–¹æ¡ˆ</span></a></h1><h2 id="ğŸ¯-ä½ çš„éœ€æ±‚" tabindex="-1"><a class="header-anchor" href="#ğŸ¯-ä½ çš„éœ€æ±‚"><span>ğŸ¯ ä½ çš„éœ€æ±‚</span></a></h2><ol><li>âœ… æƒ³ç”¨çœŸæ­£çš„éšè¯­ PSIï¼ˆSecretFlowï¼‰</li><li>âœ… æƒ³åœ¨ç½‘é¡µç«¯æ¼”ç¤º</li><li>âœ… æ ¹æ® Day2 è®¡åˆ’ï¼šåµŒå…¥åˆ° VuePress ç½‘ç«™</li></ol><hr><h2 id="âŒ-é—®é¢˜-çœŸæ­£çš„éšè¯­æ— æ³•ç›´æ¥åœ¨æµè§ˆå™¨è¿è¡Œ" tabindex="-1"><a class="header-anchor" href="#âŒ-é—®é¢˜-çœŸæ­£çš„éšè¯­æ— æ³•ç›´æ¥åœ¨æµè§ˆå™¨è¿è¡Œ"><span>âŒ é—®é¢˜ï¼šçœŸæ­£çš„éšè¯­æ— æ³•ç›´æ¥åœ¨æµè§ˆå™¨è¿è¡Œ</span></a></h2><h3 id="ä¸ºä»€ä¹ˆä¸è¡Œ" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆä¸è¡Œ"><span>ä¸ºä»€ä¹ˆä¸è¡Œï¼Ÿ</span></a></h3><table><thead><tr><th>éœ€æ±‚</th><th>éšè¯­ PSI</th><th>æµè§ˆå™¨</th></tr></thead><tbody><tr><td><strong>è¿è¡Œç¯å¢ƒ</strong></td><td>Python</td><td>JavaScript</td></tr><tr><td><strong>ä¾èµ–</strong></td><td>Rayã€gRPCã€å¯†ç å­¦åº“</td><td>åªèƒ½ç”¨ JS åº“</td></tr><tr><td><strong>å¤šèŠ‚ç‚¹</strong></td><td>éœ€è¦å¤šå°æœºå™¨</td><td>å•ä¸ªæµè§ˆå™¨</td></tr><tr><td><strong>å†…å­˜</strong></td><td>å¯ä»¥ç”¨ GB</td><td>å—é™ï¼ˆå‡ ç™¾ MBï¼‰</td></tr></tbody></table><p><strong>ç»“è®º</strong>ï¼šéšè¯­ PSI æ— æ³•ç›´æ¥åœ¨æµè§ˆå™¨è¿è¡Œ âŒ</p><hr><h2 id="âœ…-å¯è¡Œæ–¹æ¡ˆå¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#âœ…-å¯è¡Œæ–¹æ¡ˆå¯¹æ¯”"><span>âœ… å¯è¡Œæ–¹æ¡ˆå¯¹æ¯”</span></a></h2><h3 id="æ–¹æ¡ˆå¯¹æ¯”è¡¨" tabindex="-1"><a class="header-anchor" href="#æ–¹æ¡ˆå¯¹æ¯”è¡¨"><span>æ–¹æ¡ˆå¯¹æ¯”è¡¨</span></a></h3><table><thead><tr><th>æ–¹æ¡ˆ</th><th>äº¤äº’æ€§</th><th>çœŸå®æ€§</th><th>éš¾åº¦</th><th>æ—¶é—´</th><th>æ¨èåº¦</th></tr></thead><tbody><tr><td><strong>A. åµŒå…¥ Google Colab</strong></td><td>â­â­</td><td>â­â­â­â­</td><td>â­</td><td>5åˆ†é’Ÿ</td><td>â­â­â­â­</td></tr><tr><td><strong>B. JavaScript ç®€åŒ–ç‰ˆ</strong></td><td>â­â­â­â­â­</td><td>â­â­</td><td>â­â­</td><td>2å°æ—¶</td><td>â­â­â­â­â­</td></tr><tr><td><strong>C. Python åç«¯ + å‰ç«¯</strong></td><td>â­â­â­â­</td><td>â­â­â­â­â­</td><td>â­â­â­â­</td><td>1å¤©</td><td>â­â­â­</td></tr><tr><td><strong>D. WebAssembly</strong></td><td>â­â­â­â­</td><td>â­â­â­â­</td><td>â­â­â­â­â­</td><td>3å¤©</td><td>â­</td></tr></tbody></table><hr><h2 id="ğŸš€-æ–¹æ¡ˆ-a-åµŒå…¥-google-colab-æœ€å¿«" tabindex="-1"><a class="header-anchor" href="#ğŸš€-æ–¹æ¡ˆ-a-åµŒå…¥-google-colab-æœ€å¿«"><span>ğŸš€ æ–¹æ¡ˆ Aï¼šåµŒå…¥ Google Colabï¼ˆæœ€å¿«ï¼‰</span></a></h2><h3 id="ä¼˜ç‚¹" tabindex="-1"><a class="header-anchor" href="#ä¼˜ç‚¹"><span>ä¼˜ç‚¹</span></a></h3><ul><li>âœ… 5 åˆ†é’Ÿå®Œæˆ</li><li>âœ… å¯ä»¥ç”¨çœŸæ­£çš„ Python/éšè¯­</li><li>âœ… ç”¨æˆ·å¯ä»¥è¿è¡Œä»£ç </li><li>âœ… å…è´¹</li></ul><h3 id="ç¼ºç‚¹" tabindex="-1"><a class="header-anchor" href="#ç¼ºç‚¹"><span>ç¼ºç‚¹</span></a></h3><ul><li>âŒ éœ€è¦è·³è½¬åˆ° Colab</li><li>âŒ äº¤äº’æ€§ä¸€èˆ¬</li><li>âŒ ç”¨æˆ·éœ€è¦ Google è´¦å·</li></ul><h3 id="å®ç°æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#å®ç°æ–¹å¼"><span>å®ç°æ–¹å¼</span></a></h3><h4 id="åœ¨-vuepress-ä¸­åµŒå…¥" tabindex="-1"><a class="header-anchor" href="#åœ¨-vuepress-ä¸­åµŒå…¥"><span>åœ¨ VuePress ä¸­åµŒå…¥</span></a></h4><div class="language-markdown line-numbers-mode" data-highlighter="prismjs" data-ext="md"><pre><code class="language-markdown"><span class="line"><span class="token comment">&lt;!-- docs/tech/README.md --&gt;</span></span>
<span class="line"></span>
<span class="line"><span class="token title important"><span class="token punctuation">##</span> PSI åœ¨çº¿æ¼”ç¤º</span></span>
<span class="line"></span>
<span class="line"><span class="token title important"><span class="token punctuation">###</span> æ–¹å¼1ï¼šåœ¨ Google Colab ä¸­è¿è¡Œ</span></span>
<span class="line"></span>
<span class="line">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ï¼Œåœ¨ Google Colab ä¸­è¿è¡Œå®Œæ•´çš„ PSI ä»£ç ï¼š</span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ä½ çš„Colabé“¾æ¥<span class="token punctuation">&quot;</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_blank<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://colab.research.google.com/assets/colab-badge.svg<span class="token punctuation">&quot;</span></span> </span>
<span class="line">       <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Open In Colab<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token bold"><span class="token punctuation">**</span><span class="token content">æ“ä½œæ­¥éª¤</span><span class="token punctuation">**</span></span>ï¼š</span>
<span class="line"><span class="token list punctuation">1.</span> ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æ‰“å¼€ Colab</span>
<span class="line"><span class="token list punctuation">2.</span> ç‚¹å‡» Runtime â†’ Run all</span>
<span class="line"><span class="token list punctuation">3.</span> æŸ¥çœ‹è¾“å‡ºç»“æœï¼ˆäº¤é›†ï¼š[1002, 1003]ï¼‰</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ğŸ¨-æ–¹æ¡ˆ-b-javascript-ç®€åŒ–ç‰ˆ-æ¨è-â­â­â­â­â­" tabindex="-1"><a class="header-anchor" href="#ğŸ¨-æ–¹æ¡ˆ-b-javascript-ç®€åŒ–ç‰ˆ-æ¨è-â­â­â­â­â­"><span>ğŸ¨ æ–¹æ¡ˆ Bï¼šJavaScript ç®€åŒ–ç‰ˆï¼ˆæ¨è â­â­â­â­â­ï¼‰</span></a></h2><h3 id="ä¼˜ç‚¹-1" tabindex="-1"><a class="header-anchor" href="#ä¼˜ç‚¹-1"><span>ä¼˜ç‚¹</span></a></h3><ul><li>âœ… å®Œå…¨åœ¨ç½‘é¡µè¿è¡Œï¼ˆä¸éœ€è¦è·³è½¬ï¼‰</li><li>âœ… äº¤äº’æ€§æœ€å¥½ï¼ˆå®æ—¶ä¿®æ”¹æ•°æ®ï¼‰</li><li>âœ… ä¸éœ€è¦åç«¯æœåŠ¡å™¨</li><li>âœ… åŠ è½½å¿«</li></ul><h3 id="ç¼ºç‚¹-1" tabindex="-1"><a class="header-anchor" href="#ç¼ºç‚¹-1"><span>ç¼ºç‚¹</span></a></h3><ul><li>âŒ ä¸æ˜¯çœŸæ­£çš„éšè¯­ï¼ˆæ˜¯ç®€åŒ–ç‰ˆï¼‰</li><li>âŒ éœ€è¦å†™ JS ä»£ç </li></ul><h3 id="æ•ˆæœå±•ç¤º" tabindex="-1"><a class="header-anchor" href="#æ•ˆæœå±•ç¤º"><span>æ•ˆæœå±•ç¤º</span></a></h3><p><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼š</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="line">â”‚  PSI éšç§æ±‚äº¤æ¼”ç¤º                       â”‚</span>
<span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="line">â”‚  åŒ»é™¢ A çš„æ‚£è€… IDï¼š                     â”‚</span>
<span class="line">â”‚  [1001] [1002] [1003] [1005] [+æ·»åŠ ]    â”‚</span>
<span class="line">â”‚                                         â”‚</span>
<span class="line">â”‚  åŒ»é™¢ B çš„æ‚£è€… IDï¼š                     â”‚</span>
<span class="line">â”‚  [1002] [1003] [1004] [+æ·»åŠ ]           â”‚</span>
<span class="line">â”‚                                         â”‚</span>
<span class="line">â”‚       [è®¡ç®—éšç§äº¤é›†]  æŒ‰é’®               â”‚</span>
<span class="line">â”‚                                         â”‚</span>
<span class="line">â”‚  ç»“æœï¼š                                 â”‚</span>
<span class="line">â”‚  å…±åŒæ‚£è€… ID: [1002, 1003]              â”‚</span>
<span class="line">â”‚  å…±åŒæ‚£è€…æ•°é‡: 2                        â”‚</span>
<span class="line">â”‚                                         â”‚</span>
<span class="line">â”‚  ğŸ”’ åŒæ–¹æ•°æ®æœªæ˜æ–‡ä¼ è¾“                  â”‚</span>
<span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å®ç°ä»£ç " tabindex="-1"><a class="header-anchor" href="#å®ç°ä»£ç "><span>å®ç°ä»£ç </span></a></h3><p>æˆ‘å¯ä»¥å¸®ä½ å†™ä¸€ä¸ªå®Œæ•´çš„ JavaScript PSI æ¼”ç¤ºï¼š</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token comment">&lt;!-- docs/tech/README.md --&gt;</span></span>
<span class="line"></span>
<span class="line">## PSI åœ¨çº¿æ¼”ç¤º</span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>psi-demo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hospital-input<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>åŒ»é™¢ A çš„æ‚£è€… ID<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hospital-a<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1001,1002,1003,1005,1007<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  </span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hospital-input<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>åŒ»é™¢ B çš„æ‚£è€… ID<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hospital-b<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1002,1003,1004,1006,1008<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  </span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript"><span class="token function">runPSI</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>ğŸ”’ è®¡ç®—éšç§äº¤é›†<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  </span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>result<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>âœ… PSI è®¡ç®—ç»“æœ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>intersection<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>ğŸ”’ åŒæ–¹æ•°æ®åœ¨åŠ å¯†çŠ¶æ€ä¸‹è®¡ç®—ï¼Œæœªæ˜æ–‡ä¼ è¾“<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line"><span class="token comment">// JavaScript PSI å®ç°</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">sha256</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> msgBuffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> hashBuffer <span class="token operator">=</span> <span class="token keyword">await</span> crypto<span class="token punctuation">.</span>subtle<span class="token punctuation">.</span><span class="token function">digest</span><span class="token punctuation">(</span><span class="token string">&#39;SHA-256&#39;</span><span class="token punctuation">,</span> msgBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> hashArray <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>hashBuffer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> hashArray<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">b</span> <span class="token operator">=&gt;</span> b<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">runPSI</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// è·å–è¾“å…¥</span></span>
<span class="line">  <span class="token keyword">const</span> hospitalA <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;hospital-a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value</span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> hospitalB <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;hospital-b&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value</span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  </span>
<span class="line">  <span class="token comment">// å“ˆå¸ŒåŠ å¯†</span></span>
<span class="line">  <span class="token keyword">const</span> hashedA <span class="token operator">=</span> <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span></span>
<span class="line">    hospitalA<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">id</span> <span class="token operator">=&gt;</span> <span class="token function">sha256</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> hashedB <span class="token operator">=</span> <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span></span>
<span class="line">    hospitalB<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">id</span> <span class="token operator">=&gt;</span> <span class="token function">sha256</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  </span>
<span class="line">  <span class="token comment">// è®¡ç®—äº¤é›†</span></span>
<span class="line">  <span class="token keyword">const</span> intersection <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> hospitalA<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>hashedB<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>hashedA<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      intersection<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>hospitalA<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line">  <span class="token comment">// æ˜¾ç¤ºç»“æœ</span></span>
<span class="line">  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;result&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;block&#39;</span><span class="token punctuation">;</span></span>
<span class="line">  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;intersection&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> </span>
<span class="line">    <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&lt;strong&gt;å…±åŒæ‚£è€… IDï¼š&lt;/strong&gt; [</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>intersection<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;, &#39;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">]</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span></span>
<span class="line">  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;count&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> </span>
<span class="line">    <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&lt;strong&gt;å…±åŒæ‚£è€…æ•°é‡ï¼š&lt;/strong&gt; </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>intersection<span class="token punctuation">.</span>length<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css"></span>
<span class="line"><span class="token selector">#psi-demo</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">padding</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">border</span><span class="token punctuation">:</span> 2px solid #42b983<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">border-radius</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">margin</span><span class="token punctuation">:</span> 20px 0<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">.hospital-input</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">margin</span><span class="token punctuation">:</span> 15px 0<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">.hospital-input input</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">button</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> #42b983<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">padding</span><span class="token punctuation">:</span> 12px 24px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">margin</span><span class="token punctuation">:</span> 20px 0<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">button:hover</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> #359268<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">#result</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">margin-top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">padding</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> #f3f4f5<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ğŸ—ï¸-æ–¹æ¡ˆ-c-python-åç«¯-å‰ç«¯-æœ€å®Œæ•´" tabindex="-1"><a class="header-anchor" href="#ğŸ—ï¸-æ–¹æ¡ˆ-c-python-åç«¯-å‰ç«¯-æœ€å®Œæ•´"><span>ğŸ—ï¸ æ–¹æ¡ˆ Cï¼šPython åç«¯ + å‰ç«¯ï¼ˆæœ€å®Œæ•´ï¼‰</span></a></h2><h3 id="æ¶æ„" tabindex="-1"><a class="header-anchor" href="#æ¶æ„"><span>æ¶æ„</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">ç”¨æˆ·æµè§ˆå™¨</span>
<span class="line">    â†“ AJAX è¯·æ±‚</span>
<span class="line">VuePress å‰ç«¯ï¼ˆå±•ç¤ºç•Œé¢ï¼‰</span>
<span class="line">    â†“ HTTP API</span>
<span class="line">Python åç«¯ï¼ˆFlask/FastAPIï¼‰</span>
<span class="line">    â†“</span>
<span class="line">çœŸæ­£çš„ SecretFlow PSI</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¼˜ç‚¹-2" tabindex="-1"><a class="header-anchor" href="#ä¼˜ç‚¹-2"><span>ä¼˜ç‚¹</span></a></h3><ul><li>âœ… å¯ä»¥ç”¨çœŸæ­£çš„éšè¯­</li><li>âœ… äº¤äº’æ€§å¥½</li><li>âœ… ç”¨æˆ·ä¸éœ€è¦è·³è½¬</li></ul><h3 id="ç¼ºç‚¹-2" tabindex="-1"><a class="header-anchor" href="#ç¼ºç‚¹-2"><span>ç¼ºç‚¹</span></a></h3><ul><li>âŒ éœ€è¦éƒ¨ç½²åç«¯æœåŠ¡å™¨</li><li>âŒ éœ€è¦é…ç½® CORS</li><li>âŒ å¼€å‘æ—¶é—´é•¿ï¼ˆ1å¤©ï¼‰</li></ul><h3 id="å®ç°æ¦‚è¦" tabindex="-1"><a class="header-anchor" href="#å®ç°æ¦‚è¦"><span>å®ç°æ¦‚è¦</span></a></h3><h4 id="åç«¯-flask" tabindex="-1"><a class="header-anchor" href="#åç«¯-flask"><span>åç«¯ï¼ˆFlaskï¼‰</span></a></h4><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token comment"># backend/psi_api.py</span></span>
<span class="line"><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> request<span class="token punctuation">,</span> jsonify</span>
<span class="line"><span class="token keyword">from</span> flask_cors <span class="token keyword">import</span> CORS</span>
<span class="line"><span class="token keyword">import</span> secretflow <span class="token keyword">as</span> sf</span>
<span class="line"></span>
<span class="line">app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span></span>
<span class="line">CORS<span class="token punctuation">(</span>app<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&#39;/api/psi&#39;</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;POST&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">calculate_psi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    data <span class="token operator">=</span> request<span class="token punctuation">.</span>json</span>
<span class="line">    hospital_a <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">&#39;hospital_a&#39;</span><span class="token punctuation">]</span></span>
<span class="line">    hospital_b <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">&#39;hospital_b&#39;</span><span class="token punctuation">]</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment"># è¿™é‡Œè°ƒç”¨çœŸæ­£çš„ SecretFlow PSI</span></span>
<span class="line">    <span class="token comment"># ç”±äºéœ€è¦å¤šèŠ‚ç‚¹ï¼Œå®é™…ä¸Šè¿˜æ˜¯ç”¨ç®€åŒ–ç‰ˆ</span></span>
<span class="line">    intersection <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">set</span><span class="token punctuation">(</span>hospital_a<span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token builtin">set</span><span class="token punctuation">(</span>hospital_b<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">return</span> jsonify<span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&#39;intersection&#39;</span><span class="token punctuation">:</span> intersection<span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&#39;count&#39;</span><span class="token punctuation">:</span> <span class="token builtin">len</span><span class="token punctuation">(</span>intersection<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span></span>
<span class="line">    app<span class="token punctuation">.</span>run<span class="token punctuation">(</span>port<span class="token operator">=</span><span class="token number">5000</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å‰ç«¯-vuepress" tabindex="-1"><a class="header-anchor" href="#å‰ç«¯-vuepress"><span>å‰ç«¯ï¼ˆVuePressï¼‰</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// docs/.vuepress/components/PSIDemo.vue</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">runPSI</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;http://localhost:5000/api/psi&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">hospital_a</span><span class="token operator">:</span> hospitalA<span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">hospital_b</span><span class="token operator">:</span> hospitalB</span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  </span>
<span class="line">  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">showResult</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ğŸ”¬-æ–¹æ¡ˆ-d-webassembly-æœ€å¤æ‚" tabindex="-1"><a class="header-anchor" href="#ğŸ”¬-æ–¹æ¡ˆ-d-webassembly-æœ€å¤æ‚"><span>ğŸ”¬ æ–¹æ¡ˆ Dï¼šWebAssemblyï¼ˆæœ€å¤æ‚ï¼‰</span></a></h2><h3 id="åŸç†" tabindex="-1"><a class="header-anchor" href="#åŸç†"><span>åŸç†</span></a></h3><p>æŠŠ Python/C++ ç¼–è¯‘æˆ WebAssemblyï¼Œåœ¨æµè§ˆå™¨è¿è¡Œ</p><h3 id="ä¼˜ç‚¹-3" tabindex="-1"><a class="header-anchor" href="#ä¼˜ç‚¹-3"><span>ä¼˜ç‚¹</span></a></h3><ul><li>âœ… å¯ä»¥è¿è¡Œæ¥è¿‘åŸç”Ÿçš„ä»£ç </li><li>âœ… æ€§èƒ½å¥½</li></ul><h3 id="ç¼ºç‚¹-3" tabindex="-1"><a class="header-anchor" href="#ç¼ºç‚¹-3"><span>ç¼ºç‚¹</span></a></h3><ul><li>âŒ éå¸¸å¤æ‚ï¼ˆéœ€è¦ 3 å¤©ï¼‰</li><li>âŒ éšè¯­ä¸æ”¯æŒ WebAssembly</li><li>âŒ è°ƒè¯•å›°éš¾</li></ul><p><strong>ç»“è®º</strong>ï¼šä¸æ¨èï¼ˆè¶…å‡º 7 å¤©è®¡åˆ’ï¼‰</p><hr><h2 id="ğŸ¯-é’ˆå¯¹ä½ çš„éœ€æ±‚æ¨è" tabindex="-1"><a class="header-anchor" href="#ğŸ¯-é’ˆå¯¹ä½ çš„éœ€æ±‚æ¨è"><span>ğŸ¯ é’ˆå¯¹ä½ çš„éœ€æ±‚æ¨è</span></a></h2><h3 id="day1-4-ç›®æ ‡-ä»ä½ çš„è®¡åˆ’" tabindex="-1"><a class="header-anchor" href="#day1-4-ç›®æ ‡-ä»ä½ çš„è®¡åˆ’"><span>Day1-4 ç›®æ ‡ï¼ˆä»ä½ çš„è®¡åˆ’ï¼‰</span></a></h3><blockquote><p><strong>Day2 ä¸‹åˆ</strong>ï¼šåµŒå…¥ CodeSandbox ä»£ç ï¼ˆ2hï¼‰</p><ul><li>åœ¨ VuePress é¡µé¢ä¸­æ’å…¥ä»£ç </li><li>æµ‹è¯•æœ¬åœ°è®¿é—®ï¼šç‚¹å‡»&quot;Run&quot;ç¡®è®¤èƒ½è¾“å‡ºäº¤é›†</li><li>åŠ æ“ä½œè¯´æ˜</li></ul></blockquote><h3 id="æ¨èæ–¹æ¡ˆ-b-javascript-ç‰ˆ-a-colab-é“¾æ¥" tabindex="-1"><a class="header-anchor" href="#æ¨èæ–¹æ¡ˆ-b-javascript-ç‰ˆ-a-colab-é“¾æ¥"><span>æ¨èæ–¹æ¡ˆï¼šBï¼ˆJavaScript ç‰ˆï¼‰+ Aï¼ˆColab é“¾æ¥ï¼‰</span></a></h3><p><strong>ç»„åˆç­–ç•¥</strong>ï¼š</p><ol><li><p><strong>ä¸»å±•ç¤º</strong>ï¼šç”¨ JavaScript ç‰ˆï¼ˆæ–¹æ¡ˆ Bï¼‰</p><ul><li>ç”¨æˆ·å¯ä»¥ç›´æ¥åœ¨ç½‘é¡µä¸Šäº¤äº’</li><li>ä¿®æ”¹æ•°æ®å®æ—¶çœ‹åˆ°ç»“æœ</li><li>åŠ è½½å¿«ï¼Œä½“éªŒå¥½</li></ul></li><li><p><strong>æ·±å…¥äº†è§£</strong>ï¼šæä¾› Colab é“¾æ¥ï¼ˆæ–¹æ¡ˆ Aï¼‰</p><ul><li>&quot;æƒ³äº†è§£çœŸæ­£çš„éšè¯­å®ç°ï¼Ÿç‚¹å‡»è¿™é‡Œ&quot;</li><li>ç”¨æˆ·å¯ä»¥çœ‹åˆ°å®Œæ•´ä»£ç </li></ul></li></ol><p><strong>é¡µé¢å¸ƒå±€</strong>ï¼š</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="line">â”‚  PSI æŠ€æœ¯åŸç†                       â”‚</span>
<span class="line">â”‚  - ä»€ä¹ˆæ˜¯ PSI                       â”‚</span>
<span class="line">â”‚  - æ ¸å¿ƒæŠ€æœ¯ï¼ˆOTã€æ¤­åœ†æ›²çº¿ï¼‰          â”‚</span>
<span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="line">          â†“</span>
<span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="line">â”‚  ğŸ® åœ¨çº¿äº¤äº’æ¼”ç¤ºï¼ˆJavaScriptï¼‰      â”‚</span>
<span class="line">â”‚  [è¾“å…¥åŒ»é™¢Aæ•°æ®] [è¾“å…¥åŒ»é™¢Bæ•°æ®]     â”‚</span>
<span class="line">â”‚  [è®¡ç®—äº¤é›†æŒ‰é’®]                     â”‚</span>
<span class="line">â”‚  [æ˜¾ç¤ºç»“æœ]                         â”‚</span>
<span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="line">          â†“</span>
<span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="line">â”‚  ğŸ“š æ·±å…¥å­¦ä¹                         â”‚</span>
<span class="line">â”‚  æƒ³äº†è§£çœŸæ­£çš„ SecretFlow å®ç°ï¼Ÿ      â”‚</span>
<span class="line">â”‚  [Open in Colab æŒ‰é’®]               â”‚</span>
<span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ğŸ’»-ç«‹å³å®ç°-javascript-psi-demo" tabindex="-1"><a class="header-anchor" href="#ğŸ’»-ç«‹å³å®ç°-javascript-psi-demo"><span>ğŸ’» ç«‹å³å®ç°ï¼šJavaScript PSI Demo</span></a></h2><h3 id="æˆ‘å¸®ä½ å‡†å¤‡å¥½äº†å®Œæ•´ä»£ç " tabindex="-1"><a class="header-anchor" href="#æˆ‘å¸®ä½ å‡†å¤‡å¥½äº†å®Œæ•´ä»£ç "><span>æˆ‘å¸®ä½ å‡†å¤‡å¥½äº†å®Œæ•´ä»£ç </span></a></h3><h4 id="ç¬¬1æ­¥-åˆ›å»º-vue-ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#ç¬¬1æ­¥-åˆ›å»º-vue-ç»„ä»¶"><span>ç¬¬1æ­¥ï¼šåˆ›å»º Vue ç»„ä»¶</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token builtin class-name">cd</span> /Users/tailunyu/Desktop/sf/secretflow-demo</span>
<span class="line"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> docs/.vuepress/components</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ç¬¬2æ­¥-åˆ›å»º-psidemo-vue" tabindex="-1"><a class="header-anchor" href="#ç¬¬2æ­¥-åˆ›å»º-psidemo-vue"><span>ç¬¬2æ­¥ï¼šåˆ›å»º PSIDemo.vue</span></a></h4><p>æˆ‘å¯ä»¥å¸®ä½ åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„äº¤äº’å¼ PSI æ¼”ç¤ºç»„ä»¶ï¼ŒåŒ…å«ï¼š</p><ul><li>âœ… è¾“å…¥æ¡†ï¼ˆå¯ä¿®æ”¹æ•°æ®ï¼‰</li><li>âœ… è®¡ç®—æŒ‰é’®</li><li>âœ… åŠ¨ç”»æ•ˆæœ</li><li>âœ… ç»“æœå±•ç¤º</li><li>âœ… ä»£ç è¯´æ˜</li></ul><h4 id="ç¬¬3æ­¥-åœ¨-tech-readme-md-ä¸­ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ç¬¬3æ­¥-åœ¨-tech-readme-md-ä¸­ä½¿ç”¨"><span>ç¬¬3æ­¥ï¼šåœ¨ tech/README.md ä¸­ä½¿ç”¨</span></a></h4><div class="language-markdown line-numbers-mode" data-highlighter="prismjs" data-ext="md"><pre><code class="language-markdown"><span class="line"><span class="token title important"><span class="token punctuation">##</span> PSI åœ¨çº¿æ¼”ç¤º</span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PSIDemo</span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token title important"><span class="token punctuation">###</span> æŠ€æœ¯è¯´æ˜</span></span>
<span class="line">ä¸Šæ–¹æ¼”ç¤ºä½¿ç”¨ Web Crypto API å®ç°ç®€åŒ–ç‰ˆ PSIï¼Œå±•ç¤ºæ ¸å¿ƒåŸç†ã€‚</span>
<span class="line">ç”Ÿäº§ç¯å¢ƒéœ€è¦ä½¿ç”¨å®Œæ•´çš„ SecretFlow ECDH-PSI åè®®ã€‚</span>
<span class="line"></span>
<span class="line"><span class="token url">[<span class="token content">åœ¨ Google Colab ä¸­æŸ¥çœ‹å®Œæ•´å®ç°</span>](<span class="token url">ä½ çš„Colabé“¾æ¥</span>)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="â±ï¸-æ—¶é—´æˆæœ¬å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#â±ï¸-æ—¶é—´æˆæœ¬å¯¹æ¯”"><span>â±ï¸ æ—¶é—´æˆæœ¬å¯¹æ¯”</span></a></h2><table><thead><tr><th>æ–¹æ¡ˆ</th><th>Day2 ç”¨æ—¶</th><th>æ•ˆæœ</th><th>ç»´æŠ¤æˆæœ¬</th></tr></thead><tbody><tr><td><strong>ä»… Colab é“¾æ¥</strong></td><td>5 åˆ†é’Ÿ</td><td>â­â­</td><td>ä½</td></tr><tr><td><strong>JavaScript ç‰ˆ</strong></td><td>2 å°æ—¶</td><td>â­â­â­â­â­</td><td>ä½</td></tr><tr><td><strong>Python åç«¯</strong></td><td>1 å¤©</td><td>â­â­â­â­</td><td>é«˜</td></tr><tr><td><strong>ä¸¤è€…ç»“åˆ</strong></td><td>2 å°æ—¶</td><td>â­â­â­â­â­</td><td>ä½</td></tr></tbody></table><hr><h2 id="ğŸ¯-æˆ‘çš„å»ºè®®" tabindex="-1"><a class="header-anchor" href="#ğŸ¯-æˆ‘çš„å»ºè®®"><span>ğŸ¯ æˆ‘çš„å»ºè®®</span></a></h2><h3 id="æœ€ä½³æ–¹æ¡ˆ-javascript-ç‰ˆ-colab-é“¾æ¥" tabindex="-1"><a class="header-anchor" href="#æœ€ä½³æ–¹æ¡ˆ-javascript-ç‰ˆ-colab-é“¾æ¥"><span>æœ€ä½³æ–¹æ¡ˆï¼šJavaScript ç‰ˆ + Colab é“¾æ¥</span></a></h3><p><strong>Day2 æ—¶é—´åˆ†é…</strong>ï¼š</p><ul><li>ä¸Šåˆï¼ˆ2hï¼‰ï¼šå†™ PSI åŸç†æ–‡æ¡£ âœ…</li><li>ä¸‹åˆï¼ˆ2hï¼‰ï¼š <ul><li>1hï¼šå®ç° JavaScript PSI æ¼”ç¤º</li><li>0.5hï¼šåµŒå…¥ Colab é“¾æ¥</li><li>0.5hï¼šæµ‹è¯•å’Œè°ƒæ•´æ ·å¼</li></ul></li></ul><p><strong>äº¤ä»˜ç‰©</strong>ï¼š</p><ol><li>âœ… å¯åœ¨ç½‘é¡µç›´æ¥äº¤äº’çš„ PSI æ¼”ç¤º</li><li>âœ… æä¾› Colab é“¾æ¥äº†è§£å®Œæ•´å®ç°</li><li>âœ… æ»¡è¶³&quot;äº¤äº’å¼æ‹†è§£ç«™&quot;çš„éœ€æ±‚</li><li>âœ… ç¬¦åˆæ—¶é—´è¦æ±‚ï¼ˆDay2 å®Œæˆï¼‰</li></ol><hr><h2 id="ğŸš€-ç«‹å³å¼€å§‹" tabindex="-1"><a class="header-anchor" href="#ğŸš€-ç«‹å³å¼€å§‹"><span>ğŸš€ ç«‹å³å¼€å§‹</span></a></h2><h3 id="éœ€è¦æˆ‘å¸®ä½ åšä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#éœ€è¦æˆ‘å¸®ä½ åšä»€ä¹ˆ"><span>éœ€è¦æˆ‘å¸®ä½ åšä»€ä¹ˆï¼Ÿ</span></a></h3><p><strong>é€‰é¡¹ 1</strong>ï¼šæˆ‘å¸®ä½ å†™å®Œæ•´çš„ JavaScript PSI æ¼”ç¤ºç»„ä»¶</p><ul><li>åŒ…å«äº¤äº’ç•Œé¢</li><li>åŠ¨ç”»æ•ˆæœ</li><li>ä»£ç é«˜äº®</li><li>å“åº”å¼è®¾è®¡</li></ul><p><strong>é€‰é¡¹ 2</strong>ï¼šæˆ‘å¸®ä½ å‡†å¤‡ Colab ç¬”è®°æœ¬</p><ul><li>åŒ…å«çœŸæ­£çš„éšè¯­ä»£ç ï¼ˆå¦‚æœç¯å¢ƒæ”¯æŒï¼‰</li><li>æˆ–ç®€åŒ–ç‰ˆä½†æœ‰è¯¦ç»†æ³¨é‡Š</li></ul><p><strong>é€‰é¡¹ 3</strong>ï¼šä¸¤è€…éƒ½åšï¼</p><hr><h2 id="ğŸ“Š-æ–¹æ¡ˆæ€»ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ“Š-æ–¹æ¡ˆæ€»ç»“"><span>ğŸ“Š æ–¹æ¡ˆæ€»ç»“</span></a></h2><table><thead><tr><th>éœ€æ±‚</th><th>æ–¹æ¡ˆ A (Colab)</th><th>æ–¹æ¡ˆ B (JS)</th><th>æ¨èï¼šä¸¤è€…ç»“åˆ</th></tr></thead><tbody><tr><td><strong>åœ¨ç½‘é¡µè¿è¡Œ</strong></td><td>âŒ è·³è½¬</td><td>âœ…</td><td>âœ…</td></tr><tr><td><strong>çœŸæ­£çš„éšè¯­</strong></td><td>âœ…</td><td>âŒ</td><td>âœ… (Colab)</td></tr><tr><td><strong>äº¤äº’æ€§</strong></td><td>â­â­</td><td>â­â­â­â­â­</td><td>â­â­â­â­â­</td></tr><tr><td><strong>å¼€å‘æ—¶é—´</strong></td><td>5åˆ†é’Ÿ</td><td>2å°æ—¶</td><td>2å°æ—¶</td></tr><tr><td><strong>ç¬¦åˆDay2è®¡åˆ’</strong></td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr></tbody></table><hr><p><strong>ä½ æƒ³ç”¨å“ªä¸ªæ–¹æ¡ˆï¼Ÿæˆ‘ç°åœ¨å°±å¯ä»¥å¸®ä½ å®ç°ï¼</strong> ğŸš€</p>`,97)])])}const o=s(e,[["render",l]]),u=JSON.parse('{"path":"/devlog/tech-principles/%E5%9C%A8%E7%BD%91%E9%A1%B5%E7%AB%AF%E6%BC%94%E7%A4%BAPSI%E7%9A%84%E6%96%B9%E6%A1%88.html","title":"åœ¨ç½‘é¡µç«¯æ¼”ç¤º PSI çš„å¯è¡Œæ–¹æ¡ˆ","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1761803161000,"contributors":[{"name":"tailunyu","username":"tailunyu","email":"tailunyu@example.com","commits":1,"url":"https://github.com/tailunyu"}],"changelog":[{"hash":"6ef86c47225087bdb49e72347ae00f4edeae475d","time":1761803161000,"email":"tailunyu@example.com","author":"tailunyu","message":"æ‰©å±•å¼€å‘æ‰‹è®°ï¼šæ·»åŠ æŠ€æœ¯åŸç†ã€éƒ¨ç½²æŒ‡å—ã€é—®é¢˜è§£å†³ã€å¼€å‘æ€»ç»“å››å¤§åˆ†ç±»ï¼ˆç§»é™¤æ•æ„Ÿä¿¡æ¯ï¼‰"}]},"filePathRelative":"devlog/tech-principles/åœ¨ç½‘é¡µç«¯æ¼”ç¤ºPSIçš„æ–¹æ¡ˆ.md"}');export{o as comp,u as data};
